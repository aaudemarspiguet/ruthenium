<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ruthenium<sup>44</sup></title>
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet">

  <!-- Your custom CSS -->
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="layout">
    <nav class="sidebar">
      <span class="brand">ruthenium .mp3</span>
      <div class="nav">
        {% if logged_in %}
          <span style="color:#1db954;font-size:1.2rem;vertical-align:middle;">ðŸŸ¢</span>
          <a href="{{ url_for('playlists') }}"
             class="{% if request.endpoint=='playlists' %}active{% endif %}">
            playlists
          </a>
          <a href="{{ url_for('liked') }}"
             class="{% if request.endpoint=='liked' %}active{% endif %}">
            liked songs
          </a>
          <form action="{{ url_for('logout') }}"
                method="post"
                style="margin-top:1rem;">
            <button type="submit"
                    class="btn btn-secondary"
                    style="padding:0.3rem 0.9rem;font-size:0.98rem;">
              disconnect
            </button>
          </form>
        {% else %}
          <span style="color:#bbb;font-size:1.2rem;vertical-align:middle;">ðŸ”´</span>
          <a href="{{ url_for('login') }}" class="btn btn-primary" style="margin-top:1rem;">
            connect
          </a>
        {% endif %}
      </div>
    </nav>

    <div class="main-content">
      <div class="container {% if request.endpoint in ['playlists','liked'] %}wide{% endif %}">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for cat, msg in messages %}
              <div class="alert">{{ msg }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        {% block content %}{% endblock %}
      </div>
    </div>
  </div>

  <!-- Your custom JS -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  {% block scripts %}{% endblock %}

  <!-- Bootstrap 5 bundle (includes Popper.js) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
          crossorigin="anonymous">
  </script> 
</body>
</html>